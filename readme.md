# 📷 Raspberry Pi Dual Display Camera (RD-1 Style)

本專案將 Raspberry Pi CM4 打造成一台「復古雙螢幕相機」，靈感來自 **Epson RD-1**。  
特色是 **主螢幕 Live-View** + **副螢幕指針錶盤**，並結合雙轉盤、五向搖桿與兩段快門，提供接近傳統相機的操作體驗。

---

## ✨ 功能特色
- **主螢幕 (2.4" ILI9341 SPI LCD)**  
  - 即時 Live-View  
  - 顯示拍攝參數（快門 / ISO / EV / 白平衡 / 軟片模擬 / 電量 / 閃光燈控制）  

- **副螢幕 (0.71" GC9D01 圓形 LCD)**  
  - 類比錶盤風格（電量 / 白平衡 / 曝光補償 / 照片品質）  
  - 可切換不同指針 UI 模式  

- **雙轉盤設計**  
  - 左轉盤：決定右轉盤控制項（快門、ISO、EV、WB、軟片模擬等）  
  - 右轉盤：依當前模式調整數值，按壓作為確認/切換  

- **白平衡自訂**  
  - 預設場景（Auto/Daylight/Cloudy/Incandescent/Fluorescent/Shade）  
  - 每個場景可微調（A-B 軸 / G-M 軸）  
  - 白卡測光模式：拍攝白/灰卡，計算增益套用  

- **快門鍵**  
  - 兩段式：半按觸發自動對焦，全按拍照  
  - 支援 RAW (DNG) + JPEG  

- **復古手感設計**  
  - 五向搖桿：選單操作  
  - 過片桿：模擬拉片手感，可觸發「下一張」  
  - 機頂電源鍵：短按待機、長按安全關機  

- **硬體整合**  
  - **Camera Module 3 (IMX708, AF)** → 12MP、PDAF、RAW  
  - **MAX17043** → 電量監測  
  - **DS3231 RTC** → 離線時間維持  
  - **氙氣閃光模組** → 高功率觸發式閃光  
  - **補光 LED** → PWM 控制亮度  

---

## 📁 專案架構
python-project/
├── analogGauge/ # RD-1 風格指針錶盤模組
├── mainCamera/ # 主相機系統
│ ├── filter/ # 軟片模擬濾鏡 (Classic Chrome, Kodak, Fuji…)
│ └── colorCorrection/ # Pi Camera 色彩校正與 Profile
└── systemMonitor/ # 使用analogGauge製作的Windows系統儀表


實際檔案（目前進度）：
- `filter/` → 軟片模擬、網頁測試介面  
- `colorCorrection/` → 色彩校正與 profile 儲存  
- `uploads/`、`outputs/` → 測試影像資料夾  

---

## ⚡ 硬體配置

### 螢幕
- **主螢幕**：2.4" ILI9341 TFT LCD (SPI, 240×320)  
- **副螢幕**：0.71" GC9D01 / GC9A01 圓形 LCD (SPI, 160×160 / 240×240)  

### 控制元件
- **五向搖桿**：導航選單  
- **兩段式快門**：半按 AF，全按拍照  
- **雙轉盤**：左＝模式選擇，右＝數值調整  
- **過片桿**：模擬復古相機操作  
- **電源鍵**：短按待機、長按安全關機  

### 感測與電源
- **Camera Module 3 (IMX708)**：支援 PDAF / RAW / HDR  
- **MAX17043 Fuel Gauge**：電池電壓 + 電量百分比  
- **DS3231 RTC**：準確時間戳  
- **鋰電池 (6000 mAh)**：行動電源模組 Type-C 供電  

### 閃光燈
- **氙氣閃光模組 (10 W·s)**：GPIO → 光耦觸發  
- **補光 LED (1W/3W)**：PWM 恆流控制  

### 儲存裝置
- 做一個底片造型的讀卡機，type-c
- rpi從usb拉一個tpye-c母座
- 如果有插額外的儲存裝置，使用額外的儲存裝置，否則用內建的儲存裝置
---

## 📝 開發說明
- **模組化設計**：相機、濾鏡、色彩校正、指針 UI、系統監控皆獨立  
- **白平衡模組**：支援場景切換、A-B / G-M 微調、自定義白卡  
- **雙轉盤邏輯**：左轉盤切模式，右轉盤控制數值  
- **電源管理**：待機 / 關機模式已規劃（需搭配 UPS 模組）  
- **擴展性**：未來可加入更多濾鏡與 UI 指針樣式  

### TODO : 
因應閃燈閃爍時機未知，所以可否使用錄影(多frame)方法，用AI挑出最合適的照片

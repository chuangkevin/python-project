{
  "version": "1.0.0",
  "dialOrder": [
    "shutter", "iso", "ev", "wb", "film", "flash", "metering", "self_timer", "af_mode", "manual_focus", "display", "menu"
  ],
  "ui": {
    "icons": {
      "shutter": "icon_shutter",
      "iso": "icon_iso",
      "ev": "icon_ev",
      "wb": "icon_wb",
      "film": "icon_film",
      "flash": "icon_flash",
      "metering": "icon_metering",
      "self_timer": "icon_timer",
      "af_mode": "icon_af",
      "manual_focus": "icon_mf",
      "display": "icon_display",
      "menu": "icon_menu"
    }
  },
  "modes": [
    {
      "id": "shutter",
      "label": "快門速度",
      "type": "enum",
      "hint": "右轉盤切換快門檔位，按壓切 M/AE",
      "enum": [
        { "id": "1/1000", "label": "1/1000", "value": 0.001, "bindings": { "control": "ExposureTime" } },
        { "id": "1/500",  "label": "1/500",  "value": 0.002, "bindings": { "control": "ExposureTime" } },
        { "id": "1/250",  "label": "1/250",  "value": 0.004, "bindings": { "control": "ExposureTime" } },
        { "id": "1/125",  "label": "1/125",  "value": 0.008, "bindings": { "control": "ExposureTime" } },
        { "id": "1/60",   "label": "1/60",   "value": 0.0167,"bindings": { "control": "ExposureTime" } },
        { "id": "1/30",   "label": "1/30",   "value": 0.0333,"bindings": { "control": "ExposureTime" } },
        { "id": "1/15",   "label": "1/15",   "value": 0.0667,"bindings": { "control": "ExposureTime" } },
        { "id": "1/8",    "label": "1/8",    "value": 0.125, "bindings": { "control": "ExposureTime" } },
        { "id": "1/4",    "label": "1/4",    "value": 0.25,  "bindings": { "control": "ExposureTime" } },
        { "id": "1/2",    "label": "1/2",    "value": 0.5,   "bindings": { "control": "ExposureTime" } },
        { "id": "1",      "label": "1s",     "value": 1.0,   "bindings": { "control": "ExposureTime" } }
      ],
      "events": { "rotate": "next", "press": "toggle", "longPress": "noop" }
    },

    {
      "id": "iso",
      "label": "ISO",
      "type": "enum",
      "enum": [
        { "id": "iso_100",  "label": "100",  "value": 100,  "bindings": { "control": "ISO" } },
        { "id": "iso_200",  "label": "200",  "value": 200,  "bindings": { "control": "ISO" } },
        { "id": "iso_400",  "label": "400",  "value": 400,  "bindings": { "control": "ISO" } },
        { "id": "iso_800",  "label": "800",  "value": 800,  "bindings": { "control": "ISO" } },
        { "id": "iso_1600", "label": "1600", "value": 1600, "bindings": { "control": "ISO" } }
      ],
      "events": { "rotate": "next", "press": "confirm", "longPress": "noop" }
    },

    {
      "id": "ev",
      "label": "曝光補償",
      "type": "range",
      "range": { "min": -3.0, "max": 3.0, "step": 0.33, "unit": "EV", "display": "{value:+.2f}EV", "bindings": { "control": "ExposureValue" } },
      "events": { "rotate": "inc", "press": "confirm", "longPress": "noop" }
    },

    {
      "id": "wb",
      "label": "白平衡",
      "type": "group",
      "group": [
        {
          "id": "wb_preset",
          "label": "WB：預設",
          "type": "enum",
          "enum": [
            { "id": "auto",        "label": "自動",   "bindings": { "control": "AwbMode", "value": "auto" } },
            { "id": "daylight",    "label": "日光",   "bindings": { "control": "AwbMode", "value": "daylight" } },
            { "id": "cloudy",      "label": "陰天",   "bindings": { "control": "AwbMode", "value": "cloudy" } },
            { "id": "incandescent","label": "鎢絲燈", "bindings": { "control": "AwbMode", "value": "incandescent" } },
            { "id": "fluorescent", "label": "螢光燈", "bindings": { "control": "AwbMode", "value": "fluorescent" } },
            { "id": "shade",       "label": "陰影",   "bindings": { "control": "AwbMode", "value": "shade" } },
            { "id": "custom",      "label": "自定義", "bindings": { "control": "AwbEnable", "value": false } }
          ],
          "events": { "rotate": "next", "press": "confirm", "longPress": "enterSub" }
        },
        {
          "id": "wb_tweak",
          "label": "WB：微調",
          "type": "range",
          "range": { "min": -10, "max": 10, "step": 1, "unit": "step", "display": "A/B {value}", "bindings": { "control": "ColourGains_AB" } },
          "events": { "rotate": "inc", "press": "confirm", "longPress": "back" }
        },
        {
          "id": "wb_whitecard",
          "label": "WB：白卡測光",
          "type": "action",
          "hint": "按下快門→擷取中心區塊計算增益",
          "events": { "rotate": "noop", "press": "confirm", "longPress": "noop" }
        }
      ]
    },

    {
      "id": "film",
      "label": "軟片模擬",
      "type": "enum",
      "enum": [
        { "id": "PROVIA", "label": "Provia", "bindings": { "pipeline": "filmSim", "value": "PROVIA" } },
        { "id": "VELVIA", "label": "Velvia", "bindings": { "pipeline": "filmSim", "value": "VELVIA" } },
        { "id": "ASTIA", "label": "Astia", "bindings": { "pipeline": "filmSim", "value": "ASTIA" } },
        { "id": "CLASSIC_CHROME", "label": "Classic Chrome", "bindings": { "pipeline": "filmSim", "value": "CLASSIC_CHROME" } },
        { "id": "PRO_NEG_HI", "label": "Pro Neg Hi", "bindings": { "pipeline": "filmSim", "value": "PRO_NEG_HI" } },
        { "id": "PRO_NEG_STD", "label": "Pro Neg Std", "bindings": { "pipeline": "filmSim", "value": "PRO_NEG_STD" } },
        { "id": "CLASSIC_NEG", "label": "Classic Neg", "bindings": { "pipeline": "filmSim", "value": "CLASSIC_NEG" } },
        { "id": "ETERNA", "label": "Eterna", "bindings": { "pipeline": "filmSim", "value": "ETERNA" } },
        { "id": "ACROS", "label": "Acros", "bindings": { "pipeline": "filmSim", "value": "ACROS" } },
        { "id": "MONO_CHROME", "label": "Monochrome", "bindings": { "pipeline": "filmSim", "value": "MONO_CHROME" } },
        { "id": "KODACHROME_64", "label": "Kodachrome 64", "bindings": { "pipeline": "filmSim", "value": "KODACHROME_64" } },
        { "id": "KODACHROME_25", "label": "Kodachrome 25", "bindings": { "pipeline": "filmSim", "value": "KODACHROME_25" } },
        { "id": "KODAK_PORTRA_400", "label": "Portra 400", "bindings": { "pipeline": "filmSim", "value": "KODAK_PORTRA_400" } },
        { "id": "KODAK_PORTRA_160", "label": "Portra 160", "bindings": { "pipeline": "filmSim", "value": "KODAK_PORTRA_160" } },
        { "id": "KODAK_PORTRA_800", "label": "Portra 800", "bindings": { "pipeline": "filmSim", "value": "KODAK_PORTRA_800" } },
        { "id": "KODAK_GOLD_200", "label": "Gold 200", "bindings": { "pipeline": "filmSim", "value": "KODAK_GOLD_200" } },
        { "id": "KODAK_ULTRAMAX_400", "label": "Ultramax 400", "bindings": { "pipeline": "filmSim", "value": "KODAK_ULTRAMAX_400" } },
        { "id": "KODAK_EKTAR_100", "label": "Ektar 100", "bindings": { "pipeline": "filmSim", "value": "KODAK_EKTAR_100" } },
        { "id": "KODAK_TRI_X_400", "label": "Tri-X 400", "bindings": { "pipeline": "filmSim", "value": "KODAK_TRI_X_400" } },
        { "id": "KODAK_TMAX_100", "label": "T-Max 100", "bindings": { "pipeline": "filmSim", "value": "KODAK_TMAX_100" } },
        { "id": "KODAK_TMAX_3200", "label": "T-Max 3200", "bindings": { "pipeline": "filmSim", "value": "KODAK_TMAX_3200" } },
        { "id": "FUJICOLOR_C200", "label": "C200", "bindings": { "pipeline": "filmSim", "value": "FUJICOLOR_C200" } },
        { "id": "FUJICOLOR_SUPERIA_400", "label": "Superia 400", "bindings": { "pipeline": "filmSim", "value": "FUJICOLOR_SUPERIA_400" } },
        { "id": "FUJICOLOR_SUPERIA_1600", "label": "Superia 1600", "bindings": { "pipeline": "filmSim", "value": "FUJICOLOR_SUPERIA_1600" } },
        { "id": "FUJICOLOR_NATURA_1600", "label": "Natura 1600", "bindings": { "pipeline": "filmSim", "value": "FUJICOLOR_NATURA_1600" } },
        { "id": "FUJICOLOR_REALA_100", "label": "Reala 100", "bindings": { "pipeline": "filmSim", "value": "FUJICOLOR_REALA_100" } },
        { "id": "REALA_ACE", "label": "Reala Ace", "bindings": { "pipeline": "filmSim", "value": "REALA_ACE" } },
        { "id": "CINESTILL_800T", "label": "CineStill 800T", "bindings": { "pipeline": "filmSim", "value": "CINESTILL_800T" } },
        { "id": "CINESTILL_400D", "label": "CineStill 400D", "bindings": { "pipeline": "filmSim", "value": "CINESTILL_400D" } },
        { "id": "KODAK_VISION3_250D", "label": "Vision3 250D", "bindings": { "pipeline": "filmSim", "value": "KODAK_VISION3_250D" } },
        { "id": "KODAK_VISION3_500T", "label": "Vision3 500T", "bindings": { "pipeline": "filmSim", "value": "KODAK_VISION3_500T" } },
        { "id": "VINTAGE_KODACHROME", "label": "Vintage Kodachrome", "bindings": { "pipeline": "filmSim", "value": "VINTAGE_KODACHROME" } },
        { "id": "NOSTALGIC_NEGATIVE", "label": "Nostalgic Negative", "bindings": { "pipeline": "filmSim", "value": "NOSTALGIC_NEGATIVE" } },
        { "id": "SUMMER_1960", "label": "Summer 1960", "bindings": { "pipeline": "filmSim", "value": "SUMMER_1960" } },
        { "id": "CALIFORNIA_SUMMER", "label": "California Summer", "bindings": { "pipeline": "filmSim", "value": "CALIFORNIA_SUMMER" } },
        { "id": "PACIFIC_BLUES", "label": "Pacific Blues", "bindings": { "pipeline": "filmSim", "value": "PACIFIC_BLUES" } },
        { "id": "VINTAGE_BRONZE", "label": "Vintage Bronze", "bindings": { "pipeline": "filmSim", "value": "VINTAGE_BRONZE" } },
        { "id": "REDSCALE", "label": "Redscale", "bindings": { "pipeline": "filmSim", "value": "REDSCALE" } },
        { "id": "CROSS_PROCESS", "label": "Cross Process", "bindings": { "pipeline": "filmSim", "value": "CROSS_PROCESS" } },
        { "id": "BLEACH_BYPASS", "label": "Bleach Bypass", "bindings": { "pipeline": "filmSim", "value": "BLEACH_BYPASS" } },
        { "id": "INFRARED_BW", "label": "Infrared Bw", "bindings": { "pipeline": "filmSim", "value": "INFRARED_BW" } }
      ],
      "events": { "rotate": "next", "press": "confirm", "longPress": "noop" }
    },

    {
      "id": "flash",
      "label": "閃燈",
      "type": "toggle",
      "toggle": {
        "on":  { "label": "開", "bindings": { "gpio": "FLASH_EN", "value": 1 } },
        "off": { "label": "關", "bindings": { "gpio": "FLASH_EN", "value": 0 } }
      },
      "events": { "rotate": "noop", "press": "toggle", "longPress": "noop" }
    },

    {
      "id": "metering",
      "label": "測光模式",
      "type": "enum",
      "enum": [
        { "id": "average", "label": "平均", "bindings": { "control": "Metering", "value": "average" } },
        { "id": "center",  "label": "中央重點", "bindings": { "control": "Metering", "value": "center" } },
        { "id": "spot",    "label": "點測", "bindings": { "control": "Metering", "value": "spot" } }
      ],
      "events": { "rotate": "next", "press": "confirm", "longPress": "noop" }
    },

    {
      "id": "self_timer",
      "label": "自拍時長",
      "type": "enum",
      "enum": [
        { "id": "off",  "label": "關",  "bindings": { "control": "SelfTimer", "value": 0 } },
        { "id": "2s",   "label": "2 秒","bindings": { "control": "SelfTimer", "value": 2 } },
        { "id": "10s",  "label": "10 秒","bindings": { "control": "SelfTimer", "value": 10 } }
      ],
      "events": { "rotate": "next", "press": "confirm", "longPress": "noop" }
    },

    {
      "id": "af_mode",
      "label": "對焦模式",
      "type": "enum",
      "enum": [
        { "id": "af_s", "label": "AF-S", "bindings": { "control": "AfMode", "value": "single" } },
        { "id": "af_c", "label": "AF-C", "bindings": { "control": "AfMode", "value": "continuous" } },
        { "id": "mf",   "label": "MF",   "bindings": { "control": "AfMode", "value": "manual" } }
      ],
      "events": { "rotate": "next", "press": "confirm", "longPress": "noop" }
    },

    {
      "id": "manual_focus",
      "label": "手動對焦",
      "type": "range",
      "condition": { "control": "AfMode", "is": "manual" },
      "hint": "使用對焦轉盤調整對焦距離",
      "range": { "min": 0.1, "max": 10.0, "step": 0.1, "unit": "m", "display": "{value:.1f}m", "bindings": { "control": "FocusDistance" } },
      "events": { "rotate": "inc", "press": "noop", "longPress": "noop" }
    },

    {
      "id": "display",
      "label": "顯示資訊",
      "type": "enum",
      "enum": [
        { "id": "full",    "label": "完整資訊", "bindings": { "ui": "osd_level", "value": "full" } },
        { "id": "minimal", "label": "簡潔",     "bindings": { "ui": "osd_level", "value": "minimal" } },
        { "id": "off",     "label": "關閉",     "bindings": { "ui": "osd_level", "value": "off" } }
      ],
      "events": { "rotate": "next", "press": "confirm", "longPress": "noop" }
    },

    {
      "id": "menu",
      "label": "設定選單",
      "type": "action",
      "hint": "按壓進入系統設定",
      "events": { "rotate": "noop", "press": "enter", "longPress": "noop" }
    }
  ]
}